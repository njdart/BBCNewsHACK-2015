<!DOCTYPE html>

<html lang="en">
<head>
    <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
    <meta charset="utf-8">
    <meta content="IE=edge" http-equiv="X-UA-Compatible">
    <meta content="width=device-width, initial-scale=1" name="viewport">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <meta content="" name="description">
    <meta content="" name="author">
    <link href="http://getbootstrap.com/favicon.ico" rel="icon">
    <script src="http://code.jquery.com/jquery-latest.min.js"></script>
    <link href="images/favicon.ico" rel="icon">

    <title>BBC Village</title><!-- Bootstrap core CSS -->
    <link href="http://getbootstrap.com/dist/css/bootstrap.min.css" rel=
    "stylesheet"><!-- Custom styles for this template -->
    <link href="http://getbootstrap.com/examples/offcanvas/offcanvas.css" rel=
    "stylesheet">
    <!-- Just for debugging purposes. Don't actually copy these 2 lines! -->
    <!--[if lt IE 9]><script src="../../assets/js/ie8-responsive-file-warning.js"></script><![endif]-->

    <script src="./index_files/ie-emulation-modes-warning.js"></script>
<!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
  <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
  <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
  <![endif]-->
</head>

<body>
    <nav class="navbar navbar-fixed-top navbar-inverse" style=
    "background-color: #990000;">
        <div class="container">
            <a class="navbar-brand" style=
            " font-size: 30px; color: white; padding-top: 22px;">BBC
            Village</a> <img alt="BBC village" src="images/logo.png" style=
            "height:60px">

            <div class="collapse navbar-collapse" id="navbar">
                <div class="navbar-header">
                </div>
            </div>
            <!-- /.nav-collapse -->
        </div>
        <!-- /.container -->
    </nav>
    <!-- /.navbar -->


    <div class="container" id="article-container">
        <div class="row row-offcanvas row-offcanvas-right">
            <div class="col-xs-12 col-sm-9">
                <p class="pull-right visible-xs"><button class=
                "btn btn-primary btn-xs" data-toggle="offcanvas" type=
                "button">Toggle nav</button>
                </p>


                <div class="panel panel-default">
                    <div class="panel-body">
                        <p>The BBC Village is designed to adapt for personal
                        preference. Click on your region to discover the latest
                        in your area.</p>
                    </div>
                </div>


                <div class="row">
                    {{{body}}}
                </div>
                <!--/row-->
            </div>
            <!--/.col-xs-12.col-sm-9-->


            <div class="col-xs-6 col-sm-3 sidebar-offcanvas" id="sidebar">
                <div class="list-group">
                    <a class="list-group-item active" style="background-color: #990000;"><img></a> <a class=
                    "list-group-item">
                    <form class="form-inline">
                        <div class="form-group">
                            <label class="sr-only">postcode</label>

                            <p class="form-control-static">Postcode:</p>
                        </div>


                        <div class="form-group">
                            <label class="sr-only" for=
                            "Password2">Location</label> <input class=
                            "form-control" id="inputPassword2" placeholder=
                            "Current Location" type="text">
                        </div>
                        <button class="btn btn-default" style=
                        "margin-top: 10px;" type="submit">Find popular articles
                        near me</button>
                    </form></a> <a class="list-group-item">Distance around me:
                    miles

                    <form class="form-inline">
                        <input id="distance" max="200" min="5" type="range"
                        value="50">
                    </form></a>
                </div>
            </div>
            <!--/.sidebar-offcanvas-->
        </div>
        <!--/row-->

        <hr>


        <footer>
            <p>Â© Company 2014</p>
        </footer>
    </div>
    <!--/.container-->
    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="./index_files/jquery.min.js"></script> <script src="./index_files/bootstrap.min.js"></script><!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
     <script src="./index_files/ie10-viewport-bug-workaround.js"></script> <script src="./index_files/offcanvas.js"></script> <script>
var x = document.getElementById("article-container");
    if (navigator.geolocation) {
      navigator.geolocation.getCurrentPosition(function (position){
        console.log("Latitude: " + position.coords.latitude + " Longitude: " + position.coords.longitude); 
        $.ajax({
          type: "POST",
          url: "/run",
          data: {
            lat: position.coords.latitude,
            lng: position.coords.longitude,
            radius: 100
          }
        }).done(function( data ) {
          console.log( "Sample of data:", data.slice( 0, 100 ) );
        }).fail(function(data){
          console.log("AJAX Failed " + JSON.stringify(data));
        });
      });
    } else {
      x.innerHTML = "Geolocation is not supported by this browser.";
    }
    </script>
</body>
</html>